(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(e,t,n){e.exports=n("56d7")},"1f18":function(e,t,n){},"25d3":function(e,t,n){"use strict";n("1f18")},"47b0":function(e,t,n){"use strict";n("72d8")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("a026"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"top"},[n("input",{ref:"ipt",attrs:{id:"Button1",type:"button",value:!0===e.notClick?"退出全屏":"点击全屏"},on:{click:function(t){return e.kaishi()}}}),n("el-button",{on:{click:e.changeLangu}},[e._v(e._s(e.$t("changeLanguage")))]),n("a",{attrs:{id:"dddd",href:"333","data-id":"1"}},[e._v("123")])],1),n("router-view",{key:e.key})],1)},a=[],i=n("5530"),s=n("2f62"),c={data:function(){return{notClick:!1}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["b"])(["fullScreen"])),Object(s["c"])(["lang"])),{},{key:function(){return this.$route.fullPath}}),mounted:function(){console.log(document.querySelector("#dddd").dataset);var e=this;window.onresize=function(){e.notClick=e.checkFull()}},methods:{changeLangu:function(){"zh"===this.$i18n.locale?this.$i18n.locale="en":this.$i18n.locale="zh"},checkFull:function(){var e=document.mozFullScreen||document.fullScreen||document.webkitIsFullScreen||document.webkitRequestFullScreen||document.mozRequestFullScreen||document.msFullscreenEnabled;return void 0===e&&(e=!1),e},kaishi:function(){console.log(this.notClick),this.notClick?this.$store.dispatch("ChangeFullScreen"):this.$store.commit("SET_FUllSCREEN",!0),this.judgeFullScreen()},judgeFullScreen:function(){if(this.fullScreen){this.$refs["ipt"].value="退出全屏";var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?(e.mozRequestFullScreen(),console.log("moz")):e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),console.log("google")):e.msRequestFullscreen&&(console.log("ie"),e.msRequestFullscreen())}else this.$refs["ipt"].value="点击全屏",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}}},u=c,l=(n("47b0"),n("2877")),_=Object(l["a"])(u,r,a,!1,null,"309d417a",null),m=_.exports,d=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("iframe",{staticStyle:{"font-family":"'alter'"},attrs:{width:"400",height:"100",frameborder:"0",scrolling:"no",hspace:"0",src:"https://i.tianqi.com/?c=code&a=getcode&id=35&site=34&icon=1"}}),n("br"),n("router-link",{attrs:{to:"/404"}},[e._v("登陆走起")]),e._v(" || "),n("router-link",{attrs:{to:"/about"}},[e._v("简介走起")]),n("div",{on:{click:e.logout}},[e._v("登出")]),n("el-button",{on:{click:e.testMo}},[e._v("mockapi")]),n("el-button",{on:{click:e.testCookie}},[e._v("setcookie")]),n("el-button",{on:{click:e.getCookie}},[e._v("getcookie")]),n("el-button",{on:{click:e.removeC}},[e._v("removeCookie")]),n("div",{staticStyle:{width:"1600px",height:"400px"},attrs:{id:"main"}}),n("div",[n("button",{attrs:{disabled:e.enableOpen},on:{click:e.openWeb}},[e._v("开启")]),n("button",{attrs:{disabled:e.enableClose},on:{click:e.closeWeb}},[e._v("关闭")])]),n("div",{staticStyle:{width:"1600px",height:"400px"},attrs:{id:"cpu"}}),n("timer")],1)},p=[],g=(n("e9c4"),n("bc3a")),b=n.n(g),h=n("5c96"),w=n.n(h),v=(n("b0c0"),n("498a"),n("5f87")),O=n("da6f"),k={state:{testView:"viewUser",token:Object(v["d"])(),name:"",avatar:"",roles:[],isLock:Object(O["a"])({name:"isLock"})||!1,lockPasswd:Object(O["a"])({name:"lockPasswd"})||"",browserHeaderTitle:Object(O["a"])({name:"browserHeaderTitle"})||"NxAdmin"},mutations:{SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t},SET_LOCK_PASSWD:function(e,t){e.lockPasswd=t,Object(O["c"])({name:"lockPasswd",content:e.lockPasswd,type:"session"})},SET_FUllSCREEN:function(e,t){console.log(t)},SET_LOCK:function(e,t){e.isLock=!0,Object(O["c"])({name:"isLock",content:e.isLock,type:"session"})},CLEAR_LOCK:function(e,t){e.isLock=!1,e.lockPasswd="",Object(O["b"])({name:"lockPasswd"}),Object(O["b"])({name:"isLock"})},SET_BROWSERHEADERTITLE:function(e,t){e.browserHeaderTitle=t.browserHeaderTitle}},actions:{Login:function(e,t){var n=e.commit,o=t.username.trim();return new Promise((function(e,r){P(o,t.password).then((function(o){var r=o;Object(v["g"])(r.token),console.log(r),Object(v["h"])(),Object(v["f"])(t.username),n("SET_TOKEN",r.token),e()})).catch((function(e){r(e)}))}))},GetInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,o){L(n.token).then((function(n){var r=n;r.roles&&r.roles.length>0?t("SET_ROLES",r.roles):o("getInfo: roles must be a non-null array !"),t("SET_NAME",r.name),t("SET_AVATAR",r.avatar),e(n)})).catch((function(e){o(e)}))}))},LogOut:function(e){var t=e.commit,n=e.state;return new Promise((function(e,o){D(n.token).then((function(){t("SET_TOKEN",""),t("SET_ROLES",[]),t("CLEAR_LOCK"),Object(v["e"])(),e()})).catch((function(e){o(e)}))}))},FedLogOut:function(e){var t=e.commit;return new Promise((function(e){t("SET_TOKEN",""),Object(v["e"])(),e()}))},ChangeRoles:function(e,t){var n=e.commit;return new Promise((function(e){n("SET_TOKEN",t),Object(v["g"])(t),L(t).then((function(t){var o=t;n("SET_ROLES",o.roles),n("SET_NAME",o.name),n("SET_AVATAR",o.avatar),e()}))}))}}},S=k,E={fullScreen:function(e){return e.view.isFullScren},name:function(e){return e.user.name}},j=E,T={state:{isFullScren:!1,testView:"view"},mutations:{SET_FUllSCREEN:function(e,t){e.isFullScren=t}},actions:{ChangeFullScreen:function(e){var t=e.commit,n=e.state;t("SET_FUllSCREEN",!n.isFullScren)}}},y=T;o["default"].use(s["a"]);var C=new s["a"].Store({state:{view1:"123",test:"12333",lang:"zh"},mutations:{},actions:{},modules:{user:S,view:y},getters:j}),x=b.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/testVue/dist/"}).BASE_API,timeout:5e3});x.interceptors.request.use((function(e){return C.getters.token&&(e.headers["X-Token"]=Object(v["d"])()),e}),(function(e){console.log(e),Promise.reject(e)})),x.interceptors.response.use((function(e){var t=e.data;return 0!==t.code?(Object(h["Message"])({message:t.message,type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||h["MessageBox"].confirm("你已被登出，可以取消继续留在该页面，或者重新登录","确定登出",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){C.dispatch("FedLogOut").then((function(){location.reload()}))})),Promise.reject("error")):e.data}),(function(e){return console.log("err"+e),Object(h["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var A=x;function P(e,t){return A({url:"/user/login",method:"post",data:{username:e,password:t}})}function L(e){return A({url:"/user/info",method:"get",params:{token:e}})}function D(){return A({url:"/user/logout",method:"post"})}function M(e){return A({url:"/test/mock",method:"post",data:{p1:e.p1,p2:e.p2}})}var R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(e._s(e.initTime))])},F=[],I={data:function(){return{timeDate:new Date}},computed:{initTime:function(){var e=this.timeDate,t=e.getMonth()+1,n=e.getDate(),o=e.getHours(),r=e.getMinutes(),a=e.getSeconds();return t<10&&(t="0"+t),n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),a<10&&(a="0"+a),e.getFullYear()+"/"+t+"/"+n+" "+o+":"+r+":"+a}},mounted:function(){var e=this;this.timer=setInterval((function(){e.timeDate=new Date}),1e3)},beforeDestroy:function(){this.timer&&clearInterval(this.timer)}},U=I,N=Object(l["a"])(U,R,F,!1,null,null,null),W=N.exports,q={name:"Home",components:{timer:W},data:function(){return{cpuOption:{tooltip:{trigger:"axis",position:function(e){return[e[0],"10%"]}},legend:{data:["CPU使用率(%)"],left:"right"},xAxis:{type:"category",boundaryGap:!0,data:[],axisTick:{alignWithLabel:!0,lineStyle:{color:"red",width:5,tpye:"solid"}}},yAxis:{type:"value",axisLabel:{formatter:"{value} %"},boundaryGap:[0,"100%"],max:100,min:0},grid:{left:"87px",right:"50px"},series:[{name:"CPU使用率(%)",data:[],symbolSize:5,smooth:!0,sampling:"average",itemStyle:{normal:{color:"#a95af5"}},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(48,149,255,0.05)"},{offset:1,color:"rgba(48,149,255,0.05)"}])}},type:"line"}]},option:{title:{text:"展示标题"},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["购物"]},xAxis:{data:[]},yAxis:[{type:"value",name:"件数",min:0,max:100,position:"left",axisLabel:{formatter:"{value} 件"}},{}],series:[{name:"购物",type:"line",data:[],smooth:!0}]},stopWebsocket:!1,enableOpen:!1,enableClose:!0,notClick:!1}},computed:{optionUpadate:function(){return JSON.parse(JSON.stringify(this.option))}},watch:{optionUpadate:{handler:function(e,t){e.xAxis.data.length>500&&(this.option.xAxis.data.shift(),this.option.series[0].data.shift()),this.myChart.setOption(this.option)}}},created:function(){},mounted:function(){var e=this;this.cpuChart=this.$echarts.init(document.getElementById("cpu")),this.myChart=this.$echarts.init(document.getElementById("main")),this.myChart.setOption(this.option),setInterval((function(){var t=["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"][parseInt(6*Math.random())];e.option.xAxis.data.push(t);var n=[10,22,33,41,35,46,67][parseInt(7*Math.random())];e.option.series[0].data.push(n)}),2e3)},beforeDestroy:function(){console.log("destroy")},methods:{removeC:function(){v["a"].remove("test")},testCookie:function(){Object(v["h"])()},getCookie:function(){var e=v["a"].get("test");console.log(e)},testMo:function(){M({p1:"123",p2:"456"}).then((function(e){console.log(e)}))},logout:function(){D().then((function(e){console.log(e)}))},openWeb:function(){this.initwebsockt(),this.enableOpen=!this.enableOpen,this.enableClose=!this.enableClose},closeWeb:function(){var e=this;this.stopWebsocket=!0,this.ws.send("10.0.2.172##stop"),this.enableClose=!this.enableClose,setTimeout((function(){e.enableOpen=!e.enableOpen}),500)},initwebsockt:function(){var e=this,t=!1,n=null,o="ws://10.0.2.1:8083/ws";function r(t){try{"WebSocket"in window&&(n=new WebSocket(t),e.ws=n),a()}catch(o){i(t),console.log(o)}}function a(){n.onclose=function(){e.stopWebsocket?(e.stopWebsocket=!1,console.log("llws连接关闭!"+(new Date).toLocaleString())):i(o)},n.onerror=function(){i(o),console.log("llws连接错误!")},n.onopen=function(){s.reset().start(),console.log("llws连接成功!"+(new Date).toLocaleString()),n.send("10.0.2.172##start")},n.onmessage=function(t){if(s.reset().start(),console.log("llws收到消息啦:"+t.data),"pong"!==t.data){var n=JSON.parse(t.data);if("CPU"===n.performanceMessage.counterKey){var o=n.performanceMessage,r=o.startTime,a=o.counterValue;e.cpuOption.xAxis.data.push(e.formData(r)),e.cpuOption.series[0].data.push(a),e.cpuOption.xAxis.data.length>500&&(e.cpuOption.xAxis.data.shift(),e.cpuOption.series[0].data.shift()),e.cpuChart.setOption(e.cpuOption)}else n.performanceMessage.counterKey}}}function i(e){t||(t=!0,setTimeout((function(){r(e),t=!1}),1e3))}r(o),window.onbeforeunload=function(){n.close()};var s={timeout:1e3,timeoutObj:null,serverTimeoutObj:null,reset:function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},start:function(){var e=this;this.timeoutObj=setTimeout((function(){n.send("ping"),console.log("ping!"),e.serverTimeoutObj=setTimeout((function(){n.close()}),e.timeout)}),this.timeout)}};this.heartCheck=s},formData:function(e){var t=new Date(parseInt(e)),n=t.getMonth()+1,o=t.getDate(),r=t.getHours(),a=t.getMinutes(),i=t.getSeconds();return n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),a<10&&(a="0"+a),i<10&&(i="0"+i),r+":"+a+":"+i}}},B=q,K=(n("25d3"),Object(l["a"])(B,f,p,!1,null,"8460fa8e",null)),$=K.exports;o["default"].use(d["a"]);var z=[{path:"/",name:"index",redirect:"/home"},{path:"/home",name:"Home",component:$},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"dd7b"))}},{path:"/carousel",name:"carousel",component:function(){return n.e("carousel").then(n.bind(null,"c957"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/404",name:"notFound",component:function(){return n.e("about").then(n.bind(null,"4192"))}},{path:"*",redirect:"/404"}],J=new d["a"]({routes:z,mode:"history",linkActiveClass:"active"});J.beforeEach((function(e,t,n){console.log(e);var o=Object(v["c"])();o?"/login"!==e.path?n():n({path:"/"}):"/login"===e.path?n():n({path:"/login"})}));var V=J,H=n("313e"),G=(n("0fae"),n("b2d6")),X=n.n(G),Y=n("f0d9"),Q=n.n(Y),Z=n("96eb"),ee=n.n(Z);n("53ca"),n("ac1f"),n("5319"),n("1276");function te(e){var t=e.split("?")[1];return t?JSON.parse('{"'+decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}'):{}}var ne={admin:{code:0,roles:["admin"],token:"admin",introduction:"我是超级管理员",avatar:"https://raw.githubusercontent.com/mgbq/nx-admin/master/src/assets/img/home/logo.png",name:"Super Admin"},editor:{code:0,roles:["editor"],token:"editor",introduction:"我是编辑",avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif",name:"Normal Editor"}},oe={loginByUsername:function(e){console.log(e,"-------------------");var t=JSON.parse(e.body),n=t.username;return ne[n]},getUserInfo:function(e){var t=te(e.url),n=t.token;return!!ne[n]&&ne[n]},logout:function(){return{code:0,Message:"success"}}};ee.a.setup({timeout:"300-600"}),ee.a.mock(/\/user\/login/,"post",oe.loginByUsername),ee.a.mock(/\/user\/logout/,"post",oe.logout),ee.a.mock(/\/user\/info\.*/,"get",oe.getUserInfo),ee.a.mock(/\/test\/mock/,"post",(function(e){return console.log(e),{code:0,Message:"success"}}));ee.a,n("b277");var re=n("a925");o["default"].use(re["a"]);var ae=new re["a"]({locale:"zh",messages:{zh:Object.assign(n("799d"),Q.a),en:Object.assign(n("e312"),X.a)}});o["default"].use(w.a,{i18n:function(e,t){return ae.t(e,t)}}),o["default"].prototype.$echarts=H,o["default"].config.productionTip=!1,new o["default"]({router:V,store:C,i18n:ae,render:function(e){return e(m)}}).$mount("#app")},"5f87":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return _})),n.d(t,"c",(function(){return m}));var o=n("852e"),r=n.n(o),a="Admin-Token";function i(e){return r.a.set("account-save",e)}function s(){return r.a.get("account-save")}function c(){return r.a.get(a)}function u(e){return r.a.set(a,e)}function l(){return r.a.remove(a)}function _(){return r.a.set("test","123",{expires:new Date((new Date).getTime()+864e5)})}function m(){return r.a.get("test")}t["a"]=r.a},"61f7":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r}));n("498a"),n("ac1f"),n("00b4"),n("e9c4");function o(e){var t=["admin","editor"];return t.indexOf(e.trim())>=0}function r(e){if("boolean"===typeof e)return!1;if(e instanceof Array){if(0===e.length)return!0}else{if(!(e instanceof Object))return"null"===e||null==e||"undefined"===e||void 0===e||""===e;if("{}"===JSON.stringify(e))return!0}return!1}},"72d8":function(e,t,n){},"799d":function(e){e.exports=JSON.parse('{"username":"用户名","password":"密码","checkUserName":"请输入正确的用户名","checkpassword":"请输入密码","rememberAccount":"记住账号","login":"登录","changeLanguage":"切换当前语言"}')},b277:function(e,t,n){},da6f:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return setStore})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getStore})),__webpack_require__.d(__webpack_exports__,"b",(function(){return removeStore}));var _home_dc_Vue_vue2_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("e9c4"),core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_json_stringify_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_3__),_utils_validate__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("61f7"),setStore=function(e){var t=e.name,n=e.content,o=e.type,r={dataType:Object(_home_dc_Vue_vue2_node_modules_babel_runtime_helpers_esm_typeof_js__WEBPACK_IMPORTED_MODULE_0__["a"])(n),content:n,type:o,datetime:(new Date).getTime()};o?window.sessionStorage.setItem(t,JSON.stringify(r)):window.localStorage.setItem(t,JSON.stringify(r))},getStore=function getStore(params){var name=params.name,obj={},content;if(obj=window.localStorage.getItem(name),Object(_utils_validate__WEBPACK_IMPORTED_MODULE_4__["b"])(obj)&&(obj=window.sessionStorage.getItem(name)),!Object(_utils_validate__WEBPACK_IMPORTED_MODULE_4__["b"])(obj))return obj=JSON.parse(obj),"string"===obj.dataType?content=obj.content:"number"===obj.dataType?content=Number(obj.content):"boolean"===obj.dataType?content=eval(obj.content):"object"===obj.dataType&&(content=obj.content),content},removeStore=function(e){var t=e.name;window.localStorage.removeItem(t),window.sessionStorage.removeItem(t)},getAllStore=function(e){for(var t=[],n=e.type,o=1;o<=window.sessionStorage.length;o++)n?t.push({name:window.sessionStorage.key(o),content:getStore({name:window.sessionStorage.key(o),type:"session"})}):t.push(getStore({name:window.localStorage.key(o),content:getStore({name:window.localStorage.key(o)})}));return t},clearStore=function(e){var t=e.type;t?window.sessionStorage.clear():window.localStorage.clear()}},e312:function(e){e.exports=JSON.parse('{"username":"username","password":"password","checkUserName":"please check out your username","checkpassword":"please check your password","rememberAccount":"Remember account number","login":"login","changeLanguage":"change local language"}')}}]);